{"version":3,"sources":["application.js"],"names":["goBack","window","history","go","menuDropDown","document","getElementById","classList","toggle","resetErrors","$","removeClass","html","popup_message_timeout","element","message","show","setTimeout","animate","height","opacity","hide","css","body","table_wrapper","ajax_success","ajax_failed","tooltip","position","my","at","using","feedback","this","addClass","vertical","horizontal","appendTo","mousedown","e","container","is","target","has","length","load","delay","fadeOut","fadeIn","ready","onclick","event","matches","i","dropdowns","getElementsByClassName","openDropdown","contains","remove","bind","attr","src","data-alt-src","on","preventDefault","form","id","reset","display","data","url","action","data_url","serialize","success_mesg","find","val","error_mesg","ajax","dataType","type","success","resp","html_response","each","v","label","keys","Object","focus","error","console","log","text","response"],"mappings":"AAyDA,QAAAA,UAEAC,OAAAC,QAAAC,IAAA,GAKA,QAAAC,gBACAC,SAAAC,eAAA,cAAAC,UAAAC,OAAA,QA0GA,QAAAC,eACAC,EAAA,2BAAAC,YAAA,eACAD,EAAA,kCAAAE,KAAA,IAGA,QAAAC,uBAAAC,QAAAC,SACAD,QAAAF,KAAAG,SAAAC,OACAf,OAAAgB,WAAA,WACAH,QAAAI,SACAC,OAAA,EACAC,QAAA,GACA,MACA,MACAnB,OAAAgB,WAAA,WACAH,QACAO,OACAC,KACAH,OAAA,GACAC,QAAA,MAEA,MA/LA,GAAAG,MAAAb,EAAA,QACAc,cAAAd,EAAA,kBACAe,aAAAf,EAAA,iBACAgB,YAAAhB,EAAA,eAIAA,GAAA,WACAA,EAAAL,UAAAsB,SACAX,MAAA,EACAK,MAAA,EACAO,UACAC,GAAA,YACAC,GAAA,aACAC,MAAA,SAAAH,SAAAI,UACAtB,EAAAuB,MAAAX,IAAAM,UACAlB,EAAA,SACAwB,SAAA,SACAA,SAAAF,SAAAG,UACAD,SAAAF,SAAAI,YACAC,SAAAJ,YAQAvB,EAAAL,UAAAiC,UAAA,SAAAC,GAEA,GAAAC,WAAA9B,EAAA,cAEA8B,WAAAC,GAAAF,EAAAG,SACA,IAAAF,UAAAG,IAAAJ,EAAAG,QAAAE,QAEAJ,UAAAlB,IAAA,UAAA,UAMAZ,EAAAT,QAAA4C,KAAA,WAEAtB,KAAAF,OACAX,EAAA,eAAAoC,MAAA,KAAAC,QAAA,KACAxB,KAAAP,OAAAgC,OAAA,OAKAtC,EAAAL,UAAA4C,MAAA,WACAvC,EAAA,kBAAAoC,MAAA,MAAA5B,SAAAC,OAAA,EAAAC,QAAA,GAAA,QACAV,EAAA,iBAAAoC,MAAA,MAAA5B,SAAAC,OAAA,EAAAC,QAAA,GAAA,UAgBAnB,OAAAiD,QAAA,SAAAC,OACA,IAAAA,MAAAT,OAAAU,QAAA,YAAA,CAEA,GACAC,GADAC,UAAAjD,SAAAkD,uBAAA,mBAEA,KAAAF,EAAA,EAAAA,EAAAC,UAAAV,OAAAS,IAAA,CACA,GAAAG,cAAAF,UAAAD,EACAG,cAAAjD,UAAAkD,SAAA,SACAD,aAAAjD,UAAAmD,OAAA,WAQA,WAEAhD,EAAA,WAAAiD,KAAA,wBAAA,WACAjD,EAAA,eAAAkD,MACAC,IAAAnD,EAAA,eAAAkD,KAAA,gBACAE,eAAApD,EAAA,eAAAkD,KAAA,cASAlD,EAAAL,UAAA0D,GAAA,QAAA,mBAAA,SAAAxB,GACAA,EAAAyB,gBACA,IAAAC,MAAAvD,EAAA,kBAAA,EACAA,GAAA,2BAAAC,YAAA,eACAD,EAAA,kCAAAE,KAAA,IACAF,EAAA,eAAAY,IAAA,UAAA,OACA,IAAA4C,IAAAxD,EAAAuB,MAAA2B,KAAA,UACAlD,GAAA,IAAAwD,IAAA5C,IAAA,UAAA,SAEA2C,KAAAE,UAIAzD,EAAAL,UAAA0D,GAAA,QAAA,oBAAA,SAAAxB,GACAA,EAAAyB,iBACAtD,EAAA,2BAAAC,YAAA,eACAD,EAAA,kCAAAE,KAAA,IACAF,EAAA,eAAAY,KAAA8C,QAAA,UAMA,IAAAC,QAEA3D,GAAAL,UAAA0D,GAAA,QAAA,eAAA,SAAAxB,GACA9B,cACA8B,EAAAyB,gBACA,IAAAC,MAAAhC,KAAAgC,KACAK,IAAAL,KAAAM,OACAC,SAAA9D,EAAAuD,MAAAL,KAAA,YACAS,KAAA3D,EAAAuD,MAAAQ,YACAC,aAAAhE,EAAAuD,MAAAU,KAAA,yBAAAC,MACAC,WAAAnE,EAAAuD,MAAAU,KAAA,uBAAAC,KAqCA,OAnCAlE,GAAAoE,MACAC,SAAA,OACAC,KAAA,OACAV,IAAAA,IACAD,KAAAA,KACAY,QAAA,SAAAC,MACA,GAAAA,QAAA,EACAjB,KAAAE,QACAzD,EAAA,eAAAqC,QAAA,QACAlC,sBAAAY,aAAAiD,cACAhE,EAAAoE,MACAC,SAAA,OACAC,KAAA,OACAV,IAAAE,SACAS,QAAA,SAAAE,eACA3D,cAAAZ,KAAAuE,sBAIA,CACAzE,EAAA0E,KAAAF,KAAA,SAAA7B,EAAAgC,GACA,GAAAC,OAAA5E,EAAA,cAAA2C,EAAA,UACAiC,OAAA1E,KAAAyE,GACA3E,EAAA,eAAA2C,EAAA,oBAAAA,EAAA,MAAAnB,SAAA,gBAEA,IAAAqD,MAAAC,OAAAD,KAAAL,KACAxE,GAAA,eAAA6E,KAAA,GAAA,MAAAE,QACA5E,sBAAAa,YAAAmD,cAIAa,MAAA,WACAC,QAAAC,UAGA,IA2BArE,KAAAwC,GAAA,QAAA,qBAAA,SAAAxB,GACAA,EAAAyB,gBACA,IAAAM,KAAA5D,EAAAuB,MAAA2B,KAAA,QACAS,KAAA3D,EAAAuB,MAAA2B,KAAA,WACAiC,KAAAnF,EAAAuB,MAAA2B,KAAA,YAEAlD,GAAAoE,MACAE,KAAA,OACAV,IAAAA,IACAD,MAAAH,GAAAG,MACAY,QAAA,SAAAa,UACAtE,cAAAZ,KAAAkF,UACAjF,sBAAAY,aAAAoE","file":"../app.min.js","sourcesContent":["var body          = $('body');\r\nvar table_wrapper = $('#table-wrapper');\r\nvar ajax_success  = $('.ajax-success');\r\nvar ajax_failed   = $('.ajax-failed');\r\n\r\n// TOOLTIP\r\n\r\n$( function() {\r\n    $( document ).tooltip({\r\n        show: false,\r\n        hide: false,\r\n        position: {\r\n            my: \"bottom-30\",\r\n            at: \"center top\",\r\n            using: function( position, feedback ) {\r\n                $( this ).css( position );\r\n                $( \"<div>\" )\r\n                    .addClass( \"arrow\" )\r\n                    .addClass( feedback.vertical )\r\n                    .addClass( feedback.horizontal )\r\n                    .appendTo( this );\r\n            }\r\n        }\r\n    });\r\n} );\r\n\r\n// POPUP FORM - close on click outside\r\n\r\n$(document).mousedown(function (e)\r\n{\r\n    var container = $(\".popup-form\");\r\n\r\n    if (!container.is(e.target)\r\n        && container.has(e.target).length === 0)\r\n    {\r\n        container.css('display', 'none');\r\n    }\r\n});\r\n\r\n// Loading gears\r\n\r\n$(window).load(function() {\r\n    // Animate loader off screen\r\n    body.hide();\r\n    $(\".se-pre-con\").delay(300).fadeOut(100);\r\n    body.show().fadeIn(500);\r\n});\r\n\r\n// Event messages\r\n\r\n$(document).ready(function(){\r\n    $(\".event-success\").delay(3500).animate({ height: 0, opacity: 0 }, 'fast');\r\n    $(\".event-failed\").delay(4500).animate({ height: 0, opacity: 0 }, 'fast');\r\n});\r\n\r\n// Go back function\r\n\r\nfunction goBack()\r\n{\r\n    window.history.go(-1);\r\n}\r\n\r\n// Menu with dropdown\r\n\r\nfunction menuDropDown() {\r\n    document.getElementById(\"myDropdown\").classList.toggle(\"show\");\r\n}\r\n\r\nwindow.onclick = function(event) {\r\n    if (!event.target.matches('.dropbtn')) {\r\n\r\n        var dropdowns = document.getElementsByClassName(\"dropdown-content\");\r\n        var i;\r\n        for (i = 0; i < dropdowns.length; i++) {\r\n            var openDropdown = dropdowns[i];\r\n            if (openDropdown.classList.contains('show')) {\r\n                openDropdown.classList.remove('show');\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Logout lock image\r\n\r\n(function() {\r\n\r\n    $('.logout').bind('mouseenter mouseleave', function () {\r\n        $('.logout-img').attr({\r\n            src: $('.logout-img').attr('data-alt-src')\r\n            , 'data-alt-src': $('.logout-img').attr('src')\r\n        })\r\n    });\r\n\r\n}());\r\n\r\n/// ------------------------  POPUP FORM ------------------ \\\\\\\r\n\r\n\r\n$(document).on('click', '.popup-form-link', function(e) {\r\n    e.preventDefault();\r\n    var form = $('#new-user form')[0];\r\n    $('form input, form select').removeClass('input-error');\r\n    $('.popup-form-section label span').html('');\r\n    $('.popup-form').css('display', 'none');\r\n    var id = $(this).attr('data-id');\r\n    $('#' + id).css('display', 'block');\r\n    //$(\".popup-form\").draggable();\r\n    form.reset();\r\n});\r\n\r\n// CLOSE POPUP\r\n$(document).on('click', '.popup-form-close', function(e){\r\n   e.preventDefault();\r\n    $('form input, form select').removeClass('input-error');\r\n    $('.popup-form-section label span').html('');\r\n    $('.popup-form').css({display: 'none'});\r\n});\r\n\r\n////////////////////////////////////////////\r\n// POPUP FORM AJAX\r\n////////////////////////////////////////////\r\nvar data = {};\r\n\r\n$(document).on('click', '.submit-form', function(e) {\r\n    resetErrors();\r\n    e.preventDefault();\r\n    var form         = this.form,\r\n        url          = form.action,\r\n        data_url     = $(form).attr('data-url'),\r\n        data         = $(form).serialize(),\r\n        success_mesg = $(form).find(\"input[name='success']\").val(),\r\n        error_mesg   = $(form).find(\"input[name='error']\").val();\r\n    ////////////////////////////////////////////\r\n    $.ajax({\r\n        dataType: 'json',\r\n        type: 'POST',\r\n        url: url,\r\n        data: data,\r\n        success: function(resp) {\r\n            if ( resp === true ) {\r\n                form.reset();\r\n                $('.popup-form').fadeOut('fast');\r\n                popup_message_timeout( ajax_success, success_mesg );\r\n                $.ajax({\r\n                    dataType: 'html',\r\n                    type: 'POST',\r\n                    url: data_url,\r\n                    success: function (html_response) {\r\n                        table_wrapper.html(html_response);\r\n                    }\r\n                });\r\n                ////////////////////////////////////////////\r\n            } else {\r\n                $.each(resp, function(i, v) {\r\n                    var label = $(\"label[for='\"+i+\"'] span\");\r\n                    label.html(v);\r\n                    $('input[name=\"' + i + '\"], select[name=\"' + i + '\"]').addClass('input-error');\r\n                });\r\n                var keys = Object.keys(resp);\r\n                $('input[name=\"'+keys[0]+'\"]').focus();\r\n                popup_message_timeout( ajax_failed, error_mesg );\r\n            }\r\n            ////////////////////////////////////////////\r\n        },\r\n        error: function() {\r\n            console.log();\r\n        }\r\n    });\r\n    return false;\r\n});\r\n////////////////////////////////////////////\r\nfunction resetErrors() {\r\n    $('form input, form select').removeClass('input-error');\r\n    $('.popup-form-section label span').html('');\r\n}\r\n////////////////////////////////////////////\r\nfunction popup_message_timeout( element, message ) {\r\n    element.html(message).show();\r\n    window.setTimeout(function () {\r\n        element.animate({\r\n            height: 0,\r\n            opacity: 0\r\n        }, 200);\r\n    }, 3500);\r\n    window.setTimeout(function () {\r\n        element\r\n            .hide()\r\n            .css({\r\n                height: '',\r\n                opacity: ''\r\n            });\r\n    }, 3800);\r\n}\r\n////////////////////////////////////////////\r\n// POPUP FORM DELETE\r\nbody.on('click', '.popup-form-delete', function(e) {\r\n    e.preventDefault();\r\n    var url  = $(this).attr('href');\r\n    var data = $(this).attr('data-id');\r\n    var text = $(this).attr('data-text');\r\n\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: url,\r\n        data: {id:data},\r\n        success: function (response) {\r\n            table_wrapper.html(response);\r\n            popup_message_timeout( ajax_success, text );\r\n        }\r\n    });\r\n\r\n});\r\n\r\n///////////////////////////////////////////////////////////////"]}