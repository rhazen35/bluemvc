{"version":3,"sources":["application.js"],"names":["goBack","window","history","go","menuDropDown","document","getElementById","classList","toggle","resetErrors","$","removeClass","remove","body","table_wrapper","load","hide","delay","fadeOut","show","fadeIn","ready","animate","height","opacity","onclick","event","target","matches","i","dropdowns","getElementsByClassName","length","openDropdown","contains","bind","attr","src","data-alt-src","on","e","preventDefault","form","css","id","this","reset","display","data","url","action","data_url","serialize","success_mesg","val","ajax_success","ajax","dataType","type","success","resp","html","setTimeout","html_response","each","v","msg","addClass","before","keys","Object","focus","error","console","log","response"],"mappings":"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","file":"../app.min.js","sourcesContent":["var body          = $('body');\r\nvar table_wrapper = $('#table-wrapper');\r\n\r\n// $(document).mouseup(function (e)\r\n// {\r\n//     var container = $(\".popup-form\");\r\n//\r\n//     if (!container.is(e.target)\r\n//         && container.has(e.target).length === 0)\r\n//     {\r\n//         container.css('display', 'none');\r\n//     }\r\n// });\r\n\r\n// Loading gears\r\n\r\n$(window).load(function() {\r\n    // Animate loader off screen\r\n    body.hide();\r\n    $(\".se-pre-con\").delay(300).fadeOut(100);\r\n    body.show().fadeIn(500);\r\n});\r\n\r\n// Event messages\r\n\r\n$(document).ready(function(){\r\n    $(\".event-success\").delay(3500).animate({ height: 0, opacity: 0 }, 'fast');\r\n    $(\".event-failed\").delay(4500).animate({ height: 0, opacity: 0 }, 'fast');\r\n});\r\n\r\n// Go back function\r\n\r\nfunction goBack()\r\n{\r\n    window.history.go(-1);\r\n}\r\n\r\n// Menu with dropdown\r\n\r\nfunction menuDropDown() {\r\n    document.getElementById(\"myDropdown\").classList.toggle(\"show\");\r\n}\r\n\r\nwindow.onclick = function(event) {\r\n    if (!event.target.matches('.dropbtn')) {\r\n\r\n        var dropdowns = document.getElementsByClassName(\"dropdown-content\");\r\n        var i;\r\n        for (i = 0; i < dropdowns.length; i++) {\r\n            var openDropdown = dropdowns[i];\r\n            if (openDropdown.classList.contains('show')) {\r\n                openDropdown.classList.remove('show');\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Logout lock image\r\n\r\n(function() {\r\n\r\n    $('.logout').bind('mouseenter mouseleave', function () {\r\n        $('.logout-img').attr({\r\n            src: $('.logout-img').attr('data-alt-src')\r\n            , 'data-alt-src': $('.logout-img').attr('src')\r\n        })\r\n    });\r\n\r\n}());\r\n\r\n/// ------------------------  POPUP FORM ------------------ \\\\\\\r\n\r\n\r\n$(document).on('click', '.popup-form-link', function(e) {\r\n    e.preventDefault();\r\n    var form = $('#new-user form')[0];\r\n    $('form input, form select').removeClass('input-error');\r\n    $('label.input-error-label').remove();\r\n    $('.popup-form').css('display', 'none');\r\n    var id = $(this).attr('data-id');\r\n    $('#' + id).css('display', 'block');\r\n    form.reset();\r\n});\r\n\r\n// CLOSE POPUP\r\n$(document).on('click', '.popup-form-close', function(e){\r\n   e.preventDefault();\r\n   $('.popup-form').css({display: 'none'});\r\n});\r\n\r\n////////////////////////////////////////////\r\n// POPUP FORM AJAX\r\n////////////////////////////////////////////\r\nvar data = {};\r\n\r\n$(document).ready(function() {\r\n    $('.submit-form').on('click', function(e) {\r\n        resetErrors();\r\n        e.preventDefault();\r\n        var form         = this.form,\r\n            url          = form.action,\r\n            data_url     = $(form).attr('data-url'),\r\n            data         = $(form).serialize(),\r\n            success_mesg = $('input[name=success]').val(),\r\n            error_mesg   = $('input[name=error]').val(),\r\n            ajax_success = $('.ajax-success');\r\n        ////////////////////////////////////////////\r\n        $.ajax({\r\n            dataType: 'json',\r\n            type: 'POST',\r\n            url: url,\r\n            data: data,\r\n            success: function(resp) {\r\n                if ( resp === true ) {\r\n                    form.reset();\r\n                    ////////////////////////////////////////////\r\n                    ajax_success.html(success_mesg).show();\r\n                    window.setTimeout(function () {\r\n                        ajax_success.animate({\r\n                            height: 0,\r\n                            opacity: 0\r\n                        }, 200);\r\n                    }, 3500);\r\n                    ////////////////////////////////////////////\r\n                    window.setTimeout(function () {\r\n                        ajax_success\r\n                            .hide()\r\n                            .css({\r\n                                height: '',\r\n                                opacity: ''\r\n                            });\r\n                    }, 3800);\r\n                    ////////////////////////////////////////////\r\n                    $('.popup-form').fadeOut('fast');\r\n                    $.ajax({\r\n                        dataType: 'html',\r\n                        type: 'POST',\r\n                        url: data_url,\r\n                        success: function (html_response) {\r\n                            table_wrapper.html(html_response);\r\n                        }\r\n                    });\r\n                    ////////////////////////////////////////////\r\n                } else {\r\n                    $.each(resp, function(i, v) {\r\n                        var msg = '<label class=\"input-error-label\" for=\"'+i+'\">'+v+'</label>';\r\n                        $('input[name=\"' + i + '\"], select[name=\"' + i + '\"]').addClass('input-error').before(msg);\r\n                    });\r\n                    var keys = Object.keys(resp);\r\n                    $('input[name=\"'+keys[0]+'\"]').focus();\r\n                }\r\n                ////////////////////////////////////////////\r\n            },\r\n            error: function() {\r\n                console.log('Error');\r\n            }\r\n        });\r\n        return false;\r\n    });\r\n});\r\n////////////////////////////////////////////\r\nfunction resetErrors() {\r\n    $('form input, form select').removeClass('input-error');\r\n    $('label.input-error-label').remove();\r\n}\r\n\r\n\r\n/// ------------------------  Users ------------------ \\\\\\\r\n\r\nbody.on('click', '.user-delete', function(e) {\r\n    e.preventDefault();\r\n    var url  = $(this).attr('href');\r\n    var data = $(this).attr('data-id');\r\n\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: url,\r\n        data: {id:data},\r\n        success: function (response) {\r\n            table_wrapper.html(response);\r\n        }\r\n    });\r\n\r\n});"]}