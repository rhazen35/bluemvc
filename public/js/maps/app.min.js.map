{"version":3,"sources":["application.js"],"names":["goBack","window","history","go","menuDropDown","document","getElementById","classList","toggle","resetErrors","$","removeClass","remove","body","table_wrapper","mouseup","e","container","is","target","has","length","css","load","hide","delay","fadeOut","show","fadeIn","ready","animate","height","opacity","onclick","event","matches","i","dropdowns","getElementsByClassName","openDropdown","contains","bind","attr","src","data-alt-src","on","preventDefault","form","id","this","reset","display","data","url","action","data_url","serialize","success_mesg","val","ajax_success","ajax","dataType","type","success","resp","html","setTimeout","html_response","each","v","msg","addClass","after","keys","Object","focus","error","console","log","response"],"mappings":"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","file":"../app.min.js","sourcesContent":["var body          = $('body');\r\nvar table_wrapper = $('#table-wrapper');\r\n\r\n$(document).mouseup(function (e)\r\n{\r\n    var container = $(\".popup-form\");\r\n\r\n    if (!container.is(e.target)\r\n        && container.has(e.target).length === 0)\r\n    {\r\n        container.css('display', 'none');\r\n    }\r\n});\r\n\r\n// Loading gears\r\n\r\n$(window).load(function() {\r\n    // Animate loader off screen\r\n    body.hide();\r\n    $(\".se-pre-con\").delay(300).fadeOut(100);\r\n    body.show().fadeIn(500);\r\n});\r\n\r\n// Event messages\r\n\r\n$(document).ready(function(){\r\n    $(\".event-success\").delay(3500).animate({ height: 0, opacity: 0 }, 'fast');\r\n    $(\".event-failed\").delay(4500).animate({ height: 0, opacity: 0 }, 'fast');\r\n});\r\n\r\n// Go back function\r\n\r\nfunction goBack()\r\n{\r\n    window.history.go(-1);\r\n}\r\n\r\n// Menu with dropdown\r\n\r\nfunction menuDropDown() {\r\n    document.getElementById(\"myDropdown\").classList.toggle(\"show\");\r\n}\r\n\r\nwindow.onclick = function(event) {\r\n    if (!event.target.matches('.dropbtn')) {\r\n\r\n        var dropdowns = document.getElementsByClassName(\"dropdown-content\");\r\n        var i;\r\n        for (i = 0; i < dropdowns.length; i++) {\r\n            var openDropdown = dropdowns[i];\r\n            if (openDropdown.classList.contains('show')) {\r\n                openDropdown.classList.remove('show');\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Logout lock image\r\n\r\n(function() {\r\n\r\n    $('.logout').bind('mouseenter mouseleave', function () {\r\n        $('.logout-img').attr({\r\n            src: $('.logout-img').attr('data-alt-src')\r\n            , 'data-alt-src': $('.logout-img').attr('src')\r\n        })\r\n    });\r\n\r\n}());\r\n\r\n/// ------------------------  POPUP FORM ------------------ \\\\\\\r\n\r\n\r\n$(document).on('click', '.popup-form-link', function(e) {\r\n    e.preventDefault();\r\n    var form = $('#new-user form')[0];\r\n    $('form input, form select').removeClass('input-error');\r\n    $('label.input-error-label').remove();\r\n    $('.popup-form').css('display', 'none');\r\n    var id = $(this).attr('data-id');\r\n    $('#' + id).css('display', 'block');\r\n    form.reset();\r\n});\r\n\r\n// CLOSE POPUP\r\n$(document).on('click', '.popup-form-close', function(e){\r\n   e.preventDefault();\r\n   $('.popup-form').css({display: 'none'});\r\n});\r\n\r\n////////////////////////////////////////////\r\n// POPUP FORM AJAX\r\n////////////////////////////////////////////\r\nvar data = {};\r\n\r\n$(document).ready(function() {\r\n    $('.submit-form').on('click', function(e) {\r\n        resetErrors();\r\n        e.preventDefault();\r\n        var form         = this.form,\r\n            url          = form.action,\r\n            data_url     = $(form).attr('data-url'),\r\n            data         = $(form).serialize(),\r\n            success_mesg = $('input[name=success]').val(),\r\n            error_mesg   = $('input[name=error]').val(),\r\n            ajax_success = $('.ajax-success');\r\n        ////////////////////////////////////////////\r\n        $.ajax({\r\n            dataType: 'json',\r\n            type: 'POST',\r\n            url: url,\r\n            data: data,\r\n            success: function(resp) {\r\n                if ( resp === true ) {\r\n                    form.reset();\r\n                    ////////////////////////////////////////////\r\n                    ajax_success.html(success_mesg).show();\r\n                    window.setTimeout(function () {\r\n                        ajax_success.animate({\r\n                            height: 0,\r\n                            opacity: 0\r\n                        }, 200);\r\n                    }, 3500);\r\n                    ////////////////////////////////////////////\r\n                    window.setTimeout(function () {\r\n                        ajax_success\r\n                            .hide()\r\n                            .css({\r\n                                height: '',\r\n                                opacity: ''\r\n                            });\r\n                    }, 3800);\r\n                    ////////////////////////////////////////////\r\n                    $('.popup-form').fadeOut('fast');\r\n                    $.ajax({\r\n                        dataType: 'html',\r\n                        type: 'POST',\r\n                        url: data_url,\r\n                        success: function (html_response) {\r\n                            table_wrapper.html(html_response);\r\n                        }\r\n                    });\r\n                    ////////////////////////////////////////////\r\n                } else {\r\n                    $.each(resp, function(i, v) {\r\n                        var msg = '<label class=\"input-error-label\" for=\"'+i+'\">'+v+'</label>';\r\n                        $('input[name=\"' + i + '\"], select[name=\"' + i + '\"]').addClass('input-error').after(msg);\r\n                    });\r\n                    var keys = Object.keys(resp);\r\n                    $('input[name=\"'+keys[0]+'\"]').focus();\r\n                }\r\n                ////////////////////////////////////////////\r\n            },\r\n            error: function() {\r\n                console.log('Error');\r\n            }\r\n        });\r\n        return false;\r\n    });\r\n});\r\n////////////////////////////////////////////\r\nfunction resetErrors() {\r\n    $('form input, form select').removeClass('input-error');\r\n    $('label.input-error-label').remove();\r\n}\r\n\r\n\r\n/// ------------------------  Users ------------------ \\\\\\\r\n\r\nbody.on('click', '.user-delete', function(e) {\r\n    e.preventDefault();\r\n    var url  = $(this).attr('href');\r\n    var data = $(this).attr('data-id');\r\n\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: url,\r\n        data: {id:data},\r\n        success: function (response) {\r\n            table_wrapper.html(response);\r\n        }\r\n    });\r\n\r\n});"]}