{"version":3,"sources":["application.js"],"names":["goBack","window","history","go","menuDropDown","document","getElementById","classList","toggle","resetErrors","$","removeClass","html","popup_message_timeout","element","message","show","setTimeout","animate","height","opacity","hide","css","body","table_wrapper","ajax_success","ajax_failed","tooltip","position","my","at","using","feedback","this","addClass","vertical","horizontal","appendTo","load","delay","fadeOut","fadeIn","ready","onclick","event","target","matches","i","dropdowns","getElementsByClassName","length","openDropdown","contains","remove","bind","attr","src","data-alt-src","on","e","preventDefault","data_id","form","focus","reset","display","data","url","action","data_url","serialize","page","localStorage","getItem","success_mesg","find","val","error_mesg","ajax","dataType","type","success","resp","html_response","each","v","label","keys","Object","error","console","log","id","response","setItem"],"mappings":"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","file":"../app.min.js","sourcesContent":["var body          = $('body');\r\nvar table_wrapper = $('#table-wrapper');\r\nvar ajax_success  = $('.ajax-success');\r\nvar ajax_failed   = $('.ajax-failed');\r\n\r\n// TOOLTIP\r\n\r\n$( function() {\r\n    $( document ).tooltip({\r\n        show: false,\r\n        hide: false,\r\n        position: {\r\n            my: \"bottom-30\",\r\n            at: \"center top\",\r\n            using: function( position, feedback ) {\r\n                $( this ).css( position );\r\n                $( \"<div>\" )\r\n                    .addClass( \"arrow\" )\r\n                    .addClass( feedback.vertical )\r\n                    .addClass( feedback.horizontal )\r\n                    .appendTo( this );\r\n            }\r\n        }\r\n    });\r\n} );\r\n\r\n// Loading gears\r\n\r\n$(window).load(function() {\r\n    // Animate loader off screen\r\n    body.hide();\r\n    $(\".se-pre-con\").delay(300).fadeOut(100);\r\n    body.show().fadeIn(500);\r\n});\r\n\r\n// Event messages\r\n\r\n$(document).ready(function(){\r\n    $(\".event-success\").delay(3500).animate({ height: 0, opacity: 0 }, 'fast');\r\n    $(\".event-failed\").delay(4500).animate({ height: 0, opacity: 0 }, 'fast');\r\n});\r\n\r\n// Go back function\r\n\r\nfunction goBack()\r\n{\r\n    window.history.go(-1);\r\n}\r\n\r\n// Menu with dropdown\r\n\r\nfunction menuDropDown() {\r\n    document.getElementById(\"myDropdown\").classList.toggle(\"show\");\r\n}\r\n\r\nwindow.onclick = function(event) {\r\n    if (!event.target.matches('.dropbtn')) {\r\n\r\n        var dropdowns = document.getElementsByClassName(\"dropdown-content\");\r\n        var i;\r\n        for (i = 0; i < dropdowns.length; i++) {\r\n            var openDropdown = dropdowns[i];\r\n            if (openDropdown.classList.contains('show')) {\r\n                openDropdown.classList.remove('show');\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Logout lock image\r\n\r\n(function() {\r\n\r\n    $('.logout').bind('mouseenter mouseleave', function () {\r\n        $('.logout-img').attr({\r\n            src: $('.logout-img').attr('data-alt-src')\r\n            , 'data-alt-src': $('.logout-img').attr('src')\r\n        })\r\n    });\r\n\r\n}());\r\n\r\n/// ------------------------  POPUP FORM ------------------ \\\\\\\r\n\r\n$(document).on('click', '.popup-form-link', function(e) {\r\n    e.preventDefault();\r\n    var data_id = $(this).attr('data-id');\r\n    var form    = $('.popup-form-form[data-id=\"' + data_id + '\"]')[0];\r\n    $('.popup-form').css('display', 'none');\r\n    $('form input, form select').removeClass('input-error');\r\n    $('.popup-form-section label span').html('');\r\n    $('#' + data_id).css('display', 'block');\r\n    $('.popup-form-form[data-id=\"' + data_id + '\"] :input:enabled:visible:first').focus();\r\n    form.reset();\r\n});\r\n\r\n// CLOSE POPUP\r\n$(document).on('click', '.popup-form-close, .popup-form-delete-cancel', function(e){\r\n   e.preventDefault();\r\n    $('form input, form select').removeClass('input-error');\r\n    $('.popup-form-section label span').html('');\r\n    $('.popup-form').css({display: 'none'});\r\n});\r\n\r\n////////////////////////////////////////////\r\n// POPUP FORM AJAX\r\n////////////////////////////////////////////\r\nvar data = {};\r\n\r\n$(document).on('click', '.submit-form', function(e) {\r\n    resetErrors();\r\n    e.preventDefault();\r\n    var form         = this.form,\r\n        url          = form.action,\r\n        data_url     = $(form).attr('data-url'),\r\n        data         = $(form).serialize(),\r\n        page         = localStorage.getItem('_pagination_page'),\r\n        success_mesg = $(form).find(\"input[name='success']\").val(),\r\n        error_mesg   = $(form).find(\"input[name='error']\").val();\r\n    ////////////////////////////////////////////\r\n    $.ajax({\r\n        dataType: 'json',\r\n        type: 'POST',\r\n        url: url,\r\n        data: data,\r\n        success: function(resp) {\r\n            if ( resp === true ) {\r\n                form.reset();\r\n                $('.popup-form').fadeOut('fast');\r\n                popup_message_timeout( ajax_success, success_mesg );\r\n                $.ajax({\r\n                    dataType: 'html',\r\n                    type: 'POST',\r\n                    url: data_url,\r\n                    data: {page:page},\r\n                    success: function (html_response) {\r\n                        table_wrapper.html(html_response);\r\n                    }\r\n                });\r\n                ////////////////////////////////////////////\r\n            } else {\r\n                $.each(resp, function(i, v) {\r\n                    var label = $(\"label[for='\"+i+\"'] span\");\r\n                    label.html(v);\r\n                    $('input[name=\"' + i + '\"], select[name=\"' + i + '\"]').addClass('input-error');\r\n                });\r\n                var keys = Object.keys(resp);\r\n                $('input[name=\"'+keys[0]+'\"]').focus();\r\n                popup_message_timeout( ajax_failed, error_mesg );\r\n            }\r\n            ////////////////////////////////////////////\r\n        },\r\n        error: function() {\r\n            console.log();\r\n        }\r\n    });\r\n    return false;\r\n});\r\n////////////////////////////////////////////\r\nfunction resetErrors() {\r\n    $('form input, form select').removeClass('input-error');\r\n    $('.popup-form-section label span').html('');\r\n}\r\n////////////////////////////////////////////\r\nfunction popup_message_timeout( element, message ) {\r\n    element.html(message).show();\r\n    window.setTimeout(function () {\r\n        element.animate({\r\n            height: 0,\r\n            opacity: 0\r\n        }, 200);\r\n    }, 3500);\r\n    window.setTimeout(function () {\r\n        element\r\n            .hide()\r\n            .css({\r\n                height: '',\r\n                opacity: ''\r\n            });\r\n    }, 3800);\r\n}\r\n////////////////////////////////////////////\r\n// POPUP FORM DELETE\r\n\r\nbody.on('click', '.popup-form-delete', function(e) {\r\n    e.preventDefault();\r\n    var form         = this.form;\r\n    var url          = form.action;\r\n    var data         = $(form).find(\"input[name='id']\").val();\r\n    var data_url     = $(form).attr('data-url');\r\n    var text         = $(form).attr('data-text');\r\n    var page         = localStorage.getItem('_pagination_page');\r\n    var success_mesg = $(form).find(\"input[name='success']\").val();\r\n    var error_mesg   = $(form).find(\"input[name='error']\").val();\r\n\r\n    $.ajax({\r\n        dataType: 'json',\r\n        type: \"POST\",\r\n        url: url,\r\n        data: {id:data},\r\n        success: function (response) {\r\n            if( response === true ) {\r\n                popup_message_timeout(ajax_success, success_mesg);\r\n                $.ajax({\r\n                    dataType: 'html',\r\n                    type: 'POST',\r\n                    url: data_url,\r\n                    data: {page:page},\r\n                    success: function (html_response) {\r\n                        table_wrapper.html(html_response);\r\n                    }\r\n                });\r\n            } else {\r\n                popup_message_timeout(ajax_failed, error_mesg);\r\n            }\r\n        }\r\n    });\r\n\r\n});\r\n\r\n///////////////////////////////////////////////////////////////\r\n\r\n// PAGINATION\r\n\r\n$(document).on('click', '.paginate', function(e){\r\n   e.preventDefault();\r\n   var page = $(this).attr('data-page');\r\n   var url  = $(this).attr('data-url');\r\n    localStorage.setItem('_pagination_page', page);\r\n    $.ajax({\r\n        dataType: 'html',\r\n        type: 'POST',\r\n        url: url,\r\n        data: {page:page},\r\n        success: function (response) {\r\n            table_wrapper.html(response);\r\n        }\r\n    });\r\n});"]}